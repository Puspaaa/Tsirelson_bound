<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tsirelson's Bound from a Generalised DPI</title>

  <!-- Reveal.js core -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/reveal.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/theme/black.css" id="theme" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/plugin/highlight/monokai.css" />

  <!-- KaTeX -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" />

  <style>
    /* ═══════════════════════════════════════════════
       GLOBAL THEME
       ═══════════════════════════════════════════════ */
    :root {
      --r-background-color: #0f0f1a;
      --r-main-font: 'Inter', 'Segoe UI', system-ui, sans-serif;
      --r-heading-font: 'Inter', 'Segoe UI', system-ui, sans-serif;
      --r-main-font-size: 32px;
      --r-heading-color: #e0e0ff;
      --r-main-color: #c8c8e0;
      --r-link-color: #aa88ff;
      --r-selection-background-color: #aa44ff55;
    }
    .reveal { font-family: var(--r-main-font); }
    .reveal h1, .reveal h2, .reveal h3 {
      font-weight: 700; text-transform: none; letter-spacing: -0.02em;
    }

    /* ─── Utility classes ─── */
    .accent     { color: #aa88ff; }
    .accent-red { color: #ff5555; }
    .accent-grn { color: #55ff99; }
    .accent-ylw { color: #ffdd44; }
    .accent-blu { color: #44aaff; }
    .accent-pur { color: #aa44ff; }
    .accent-org { color: #ff9800; }
    .small      { font-size: 0.65em; }
    .tiny       { font-size: 0.50em; }
    .dim        { opacity: 0.55; }
    .left-align { text-align: left; }

    /* ─── Split layout ─── */
    .split {
      display: flex; gap: 2rem; align-items: center;
      justify-content: center; width: 100%;
    }
    .split > .left  { flex: 1; text-align: left; }
    .split > .right { flex: 1; display: flex; justify-content: center; align-items: center; }

    /* ─── Video container ─── */
    .video-box {
      border: 1px solid #333; border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 0 30px rgba(170, 68, 255, 0.15);
    }
    .video-box video {
      display: block; max-width: 100%; max-height: 55vh; background: #000;
    }

    /* ─── Hierarchy bars ─── */
    .hierarchy-item {
      display: flex; align-items: center; gap: 0.8rem;
      margin: 0.5rem 0; font-size: 0.8em;
    }
    .hierarchy-bar { height: 8px; border-radius: 4px; flex-shrink: 0; }
    .bar-local    { width: 80px;  background: #44aaff; }
    .bar-quantum  { width: 140px; background: #aa44ff; }
    .bar-ns       { width: 200px; background: #ff4444; }

    /* ─── Two-column layout ─── */
    .two-col {
      display: grid; grid-template-columns: 1fr 1fr;
      gap: 2rem; align-items: start; text-align: left;
    }

    /* ─── Property list ─── */
    .prop-list { list-style: none; padding: 0; margin: 0; }
    .prop-list li {
      padding: 0.3em 0; font-size: 0.75em; border-bottom: 1px solid #ffffff10;
    }
    .prop-list li::before  { content: '▸ '; color: #aa88ff; }
    .prop-list li.bad::before  { content: '✗ '; color: #ff5555; }
    .prop-list li.good::before { content: '✓ '; color: #55ff99; }

    /* ─── Flow diagram ─── */
    .flow {
      display: flex; align-items: center; justify-content: center;
      gap: 0.5rem; flex-wrap: wrap;
    }
    .flow-box {
      background: #1a1a2e; border: 2px solid; border-radius: 12px;
      padding: 1rem 1.2rem; text-align: center; min-width: 140px;
    }
    .flow-box h4 { margin: 0 0 0.3rem 0; font-size: 0.75em; font-weight: 700; }
    .flow-box p, .flow-box .katex { margin: 0; font-size: 0.6em; }
    .flow-arrow { font-size: 1.8em; color: #555; }

    /* ─── Title slide ─── */
    .title-slide h1 {
      font-size: 2.2em;
      background: linear-gradient(135deg, #aa88ff, #44aaff);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
      background-clip: text; margin-bottom: 0.15em;
    }
    .title-slide h2 {
      font-size: 0.85em; color: #888; font-weight: 400; margin-bottom: 1.5em;
    }
    .title-slide .meta {
      font-size: 0.55em; color: #666; margin-top: 0.8em;
    }
    .title-slide .meta span { display: block; margin: 0.2em 0; }

    /* ─── Highlight box ─── */
    .highlight-box {
      background: linear-gradient(135deg, #aa44ff15, #ff444415);
      border: 1px solid #aa44ff44; border-radius: 10px;
      padding: 1rem 1.3rem; margin: 0.8rem 0;
    }

    /* ─── Question callout ─── */
    .question-big {
      font-size: 1.1em; color: #ffdd44;
      font-style: italic; text-align: center; margin-top: 1rem;
    }

    /* ─── Subtle grid bg ─── */
    .reveal .slides {
      background-image:
        radial-gradient(circle at 20% 80%, rgba(170, 68, 255, 0.03) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(68, 170, 255, 0.03) 0%, transparent 50%);
    }

    /* ─── Section divider slides ─── */
    .section-divider {
      display: flex !important;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    .section-divider .section-number {
      font-size: 0.45em;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: #555;
      margin-bottom: 0.6em;
    }
    .section-divider h2 {
      font-size: 2.2em;
      margin-bottom: 0.2em;
    }
    .section-divider .section-rule {
      width: 120px;
      height: 3px;
      border-radius: 2px;
      margin: 0.6em 0;
    }

    /* ─── Bound badge ─── */
    .bound-badge {
      display: inline-block; padding: 0.4em 1em; border-radius: 8px;
      font-weight: 700; font-size: 0.85em; margin: 0.3em;
    }
    .bound-classical { background: #44aaff22; border: 2px solid #44aaff; color: #44aaff; }
    .bound-quantum   { background: #aa44ff22; border: 2px solid #aa44ff; color: #aa44ff; }
    .bound-ns        { background: #ff444422; border: 2px solid #ff4444; color: #ff4444; }

    /* ─── Step blocks ─── */
    .step-block {
      background: #12122a; border-left: 4px solid #aa44ff;
      border-radius: 0 10px 10px 0; padding: 0.8rem 1.2rem;
      margin: 0.5rem 0; text-align: left;
    }
    .step-block.orange { border-left-color: #ff9800; }
    .step-block.blue   { border-left-color: #44aaff; }
    .step-block.green  { border-left-color: #55ff99; }
    .step-block.red    { border-left-color: #ff5555; }
    .step-block.yellow { border-left-color: #ffdd44; }

    /* ─── Verdict card ─── */
    .verdict-card {
      background: #0a0a1a; border: 2px solid; border-radius: 14px;
      padding: 1.2rem 1.5rem; text-align: center;
    }
    .verdict-card h4 { margin: 0 0 0.5rem 0; font-size: 0.85em; }
    .verdict-card .katex { font-size: 0.75em; }
    .verdict-pass { border-color: #55ff99; }
    .verdict-fail { border-color: #ff5555; }

    /* ─── Chain diagram ─── */
    .chain-row {
      display: flex; align-items: center; justify-content: center;
      gap: 0.8rem; margin: 1rem 0;
    }
    .chain-node {
      background: #1a1a2e; border: 2px solid; border-radius: 14px;
      padding: 0.8rem 1.2rem; text-align: center; min-width: 180px;
    }
    .chain-node h4 { margin: 0 0 0.3rem 0; font-size: 0.7em; font-weight: 700; }
    .chain-node p  { margin: 0; font-size: 0.55em; color: #99a; }
    .chain-arrow { font-size: 2em; color: #ffdd44; }

    /* ═══════════════════════════════════════════════
       PROGRESS BAR + HOME BUTTON
       ═══════════════════════════════════════════════ */
    #progress-container {
      position: fixed; bottom: 0; left: 0; width: 100%; height: 6px;
      background: #1a1a2e; z-index: 100; cursor: pointer;
    }
    #progress-bar {
      height: 100%; width: 0%;
      background: linear-gradient(90deg, #44aaff, #aa44ff, #55ff99);
      transition: width 0.3s ease;
    }
    .progress-marker {
      position: absolute; top: -18px; height: 24px; width: 2px;
      background: #ffffff30; z-index: 101;
    }
    .progress-marker-label {
      position: absolute; top: -34px; font-size: 10px;
      color: #666; white-space: nowrap;
      transform: translateX(-50%);
      pointer-events: none;
    }

    /* Home button */
    #home-btn {
      position: fixed; top: 18px; left: 18px; z-index: 100;
      width: 42px; height: 42px; border-radius: 50%;
      background: #1a1a2e; border: 2px solid #333;
      color: #aa88ff; font-size: 20px;
      cursor: pointer; display: flex; align-items: center; justify-content: center;
      transition: all 0.25s ease;
      box-shadow: 0 2px 10px rgba(0,0,0,0.4);
    }
    #home-btn:hover {
      background: #aa44ff33; border-color: #aa44ff;
      transform: scale(1.1);
    }

    /* Slide map overlay */
    #slide-map {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(10,10,20,0.95); z-index: 200;
      display: none; overflow-y: auto; padding: 60px 40px;
    }
    #slide-map.visible { display: flex; flex-wrap: wrap; justify-content: center; gap: 16px; align-content: start; }
    .map-card {
      width: 200px; height: 120px; border-radius: 10px;
      background: #1a1a2e; border: 2px solid #333;
      cursor: pointer; padding: 12px;
      display: flex; flex-direction: column; justify-content: center;
      align-items: center; text-align: center;
      transition: all 0.2s ease;
    }
    .map-card:hover { border-color: #aa88ff; transform: scale(1.05); }
    .map-card .map-num { font-size: 11px; color: #666; margin-bottom: 4px; }
    .map-card .map-title { font-size: 13px; color: #ccc; font-weight: 600; }
    .map-card .map-section { font-size: 10px; margin-top: 6px; padding: 2px 10px; border-radius: 10px; color: #888; }
    .map-card.active { border-color: #aa88ff; box-shadow: 0 0 15px #aa88ff44; }
    .map-card.is-divider { background: #0f0f1a; border-style: dashed; opacity: 0.7; }
    #slide-map-close {
      position: fixed; top: 20px; right: 30px; z-index: 210;
      font-size: 28px; color: #888; cursor: pointer; display: none;
    }
    #slide-map-close:hover { color: #fff; }
  </style>
</head>
<body>

  <!-- HOME BUTTON -->
  <button id="home-btn" title="Slide Map (press H)">⌂</button>

  <!-- SLIDE MAP OVERLAY -->
  <div id="slide-map"></div>
  <span id="slide-map-close">✕</span>

  <!-- PROGRESS BAR -->
  <div id="progress-container">
    <div id="progress-bar"></div>
  </div>

  <div class="reveal">
    <div class="slides">


      <!-- ═══════════════════════════════════════════════════════
           TITLE
           ═══════════════════════════════════════════════════════ -->
      <section class="title-slide" data-transition="fade">
        <h1>The Limit of Nature</h1>
        <h2>Tsirelson's Bound from a Generalised Data Processing Inequality</h2>

        <div style="margin: 1.5rem 0;">
          <span class="bound-badge bound-classical">Classical: $S \leq 2$</span>
          <span class="bound-badge bound-quantum">Tsirelson: $S \leq 2\sqrt{2}$</span>
          <span class="bound-badge bound-ns">No-Signaling: $S \leq 4$</span>
        </div>

        <div style="margin: 1rem 0;">
          <span style="font-size:0.6em; color:#aa88ff;">Based on Dahlsten, Lercher &amp; Renner — <em>New J. Phys.</em> <strong>14</strong> (2012) 063024</span>
        </div>

        <div class="meta">
          <span><strong style="color:#bbb;">Mohammed Boudjemaa&ensp;·&ensp;Yash Kumar Nagar&ensp;·&ensp;Nishchay Vora</strong></span>
          <span>M2 Quantum Information — February 6, 2026</span>
        </div>

        <aside class="notes">
          Good morning. Quantum mechanics is strange — but today we ask a deeper
          question: Why isn't it stranger? We explore the Data Processing Inequality
          as the principle that bounds quantum non-locality at Tsirelson's limit.
        </aside>
      </section>


      <!-- ═══════════════════════════════════════════════════════
           SECTION I: THE MYSTERY
           ═══════════════════════════════════════════════════════ -->
      <section class="section-divider" data-transition="fade">
        <div class="section-number">Part I</div>
        <h2 style="background: linear-gradient(135deg, #44aaff, #aa88ff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
          The Mystery
        </h2>
        <div class="section-rule" style="background: linear-gradient(90deg, #44aaff, #aa88ff);"></div>
        <p class="small dim">Why isn't nature maximally non-local?</p>
      </section>


      <!-- ═══ THE CORRELATION LANDSCAPE ═══ -->
      <section data-transition="slide">
        <h3 style="margin-bottom:0.2em;">The Correlation Landscape</h3>
        <p class="small dim" style="margin-top:0;">Three nested worlds of correlations</p>

        <div class="split">
          <div class="left">
            <div class="hierarchy-item fragment" data-fragment-index="1">
              <div class="hierarchy-bar bar-local"></div>
              <div>
                <strong class="accent-blu">Local&ensp;($\mathcal{L}$)</strong><br>
                <span class="small">$S \leq 2$&ensp;—&ensp;Bell's inequality</span>
              </div>
            </div>
            <div class="hierarchy-item fragment" data-fragment-index="2">
              <div class="hierarchy-bar bar-quantum"></div>
              <div>
                <strong class="accent-pur">Quantum&ensp;($\mathcal{Q}$)</strong><br>
                <span class="small">$S \leq 2\sqrt{2} \approx 2.83$&ensp;—&ensp;Tsirelson's limit</span>
              </div>
            </div>
            <div class="hierarchy-item fragment" data-fragment-index="3">
              <div class="hierarchy-bar bar-ns"></div>
              <div>
                <strong class="accent-red">No-Signaling&ensp;($\mathcal{NS}$)</strong><br>
                <span class="small">$S \leq 4$&ensp;—&ensp;Relativity alone</span>
              </div>
            </div>
            <div class="highlight-box fragment" data-fragment-index="4">
              <strong class="accent-ylw">The hierarchy:</strong>
              <span class="small">&ensp;$\mathcal{L} \subset \mathcal{Q} \subset \mathcal{NS}$</span><br>
              <p class="question-big" style="font-size:0.75em;">
                Relativity allows $S$ up to $4$. Why does nature stop at $2\sqrt{2}$?
              </p>
            </div>
          </div>
          <div class="right">
            <div class="video-box">
              <video autoplay loop muted playsinline preload="auto">
                <source src="assets/1_polytope.webm" type="video/webm" />
              </video>
            </div>
          </div>
        </div>

        <aside class="notes">
          The space of all correlations forms nested sets. Classical physics
          lives in the innermost. No-signaling is the outermost. Quantum is
          in between, and Tsirelson's bound marks its boundary.
        </aside>
      </section>


      <!-- ═══ THE CHSH SCORE ═══ -->
      <section data-transition="slide">
        <h3 style="margin-bottom:0.2em;">Measuring Non-Locality: <span class="accent-pur">The CHSH Score</span></h3>
        <p class="small dim" style="margin-top:0;">A single number that tracks where a theory lives</p>

        <div class="split">
          <div class="left">
            <div class="highlight-box" style="margin-bottom: 0.8rem;">
              <p class="small" style="margin:0 0 0.5rem 0; color:#99a;">
                <strong>Theorem</strong> (Tsirelson, 1980). For any quantum strategy:
              </p>
              <p style="text-align:center; font-size:1.1em; margin:0;">
                $S \;\leq\; 2\sqrt{2}$
              </p>
            </div>

            <div style="text-align:center; margin: 0.5rem 0;">
              $S \;=\; \displaystyle\sum_{x,y \in \{0,1\}} P(a \oplus b = x \cdot y \mid x,y)$
            </div>

            <div style="margin-top: 0.8rem;">
              <div class="hierarchy-item"><div class="hierarchy-bar bar-local"></div><span class="accent-blu small">Classical: $S = 2$</span></div>
              <div class="hierarchy-item"><div class="hierarchy-bar bar-quantum"></div><span class="accent-pur small">Quantum: $S = 2\sqrt{2} \approx 2.83$</span></div>
              <div class="hierarchy-item"><div class="hierarchy-bar bar-ns"></div><span class="accent-red small">No-signaling: $S = 4$</span></div>
            </div>
            <p class="small accent-pur fragment" style="margin-top:0.8em;">
              Tsirelson proved $2\sqrt{2}$ is the ceiling. But for 30 years,
              nobody could explain <em>why</em> this particular number.
            </p>
          </div>
          <div class="right">
            <div class="video-box">
              <video autoplay loop muted playsinline preload="auto">
                <source src="assets/s2_tsirelson_gauge.webm" type="video/webm" />
              </video>
            </div>
          </div>
        </div>

        <aside class="notes">
          The CHSH score S measures how well two parties can win a correlation
          game. The gauge sweeps through the three regions: classical, quantum,
          then the forbidden zone beyond Tsirelson's limit.
        </aside>
      </section>


      <!-- ═══ THE PR-BOX ═══ -->
      <section data-transition="slide">
        <h3 style="margin-bottom:0.2em;">The Extremal Case: <span class="accent-ylw">The PR-Box</span></h3>
        <p class="small dim" style="margin-top:0;">Popescu &amp; Rohrlich (1994) — a hypothetical device at $S = 4$</p>

        <div class="split">
          <div class="left">
            <div class="highlight-box" style="text-align: center;">
              <p style="font-size:1.1em; margin:0;">$a \oplus b = x \cdot y$</p>
              <p class="tiny dim" style="margin-top:0.3em;">Always satisfied — deterministically</p>
            </div>

            <ul class="prop-list fragment" data-fragment-index="1">
              <li class="good">$P(a = b \mid 00) = 1$</li>
              <li class="good">$P(a = b \mid 01) = 1$</li>
              <li class="good">$P(a = b \mid 10) = 1$</li>
              <li class="bad">$P(a \neq b \mid 11) = 1$&ensp;— anti-correlation</li>
            </ul>

            <div style="margin-top: 0.6rem;" class="fragment" data-fragment-index="2">
              <div class="step-block orange">
                <p class="small" style="margin:0;"><strong class="accent-org">CHSH score:</strong> $S = 4$ — maximal</p>
              </div>
              <div class="step-block green">
                <p class="small" style="margin:0;"><strong class="accent-grn">No-signaling?</strong> Yes — marginals are uniform: $P(a|x) = \tfrac{1}{2}$</p>
              </div>
              <div class="step-block red">
                <p class="small" style="margin:0;"><strong class="accent-red">Violates Tsirelson:</strong> $4 > 2\sqrt{2}$</p>
              </div>
            </div>

            <p class="question-big fragment" data-fragment-index="3" style="font-size:0.7em;">
              It doesn't violate relativity. So what law of physics forbids it?
            </p>
          </div>
          <div class="right">
            <div class="video-box">
              <video autoplay loop muted playsinline preload="auto">
                <source src="assets/s2_prbox_crime.webm" type="video/webm" />
              </video>
            </div>
          </div>
        </div>

        <aside class="notes">
          The PR-Box achieves perfect CHSH score of 4. Its marginals are
          uniform, so no information leaks — no-signaling is upheld. Yet
          nature doesn't permit it. We need a principle beyond relativity.
        </aside>
      </section>


      <!-- ═══════════════════════════════════════════════════════
           SECTION II: THE FRAMEWORK
           ═══════════════════════════════════════════════════════ -->
      <section class="section-divider" data-transition="fade">
        <div class="section-number">Part II</div>
        <h2 style="background: linear-gradient(135deg, #44aaff, #55ff99); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
          The Framework
        </h2>
        <div class="section-rule" style="background: linear-gradient(90deg, #44aaff, #55ff99);"></div>
        <p class="small dim">A language to compare theories on equal footing</p>
      </section>


      <!-- ═══ GENERAL PROBABILISTIC THEORIES ═══ -->
      <section data-transition="slide">
        <h3 style="margin-bottom:0.2em;">General Probabilistic Theories</h3>
        <p class="small dim" style="margin-top:0;">Beyond Hilbert spaces — an operational framework</p>

        <div class="split">
          <div class="left">
            <div class="fragment" data-fragment-index="1">
              <div class="highlight-box" style="border-color:#ff444444;">
                <h4 style="color:#888; margin:0 0 0.3rem 0; font-size:0.7em;">&#10060;&ensp;Traditional QM</h4>
                <p class="small" style="margin:0; color:#888;">States as $\psi \in \mathcal{H}$ — assumes the answer!</p>
              </div>
            </div>
            <div class="fragment" data-fragment-index="2" style="margin-top:0.8rem;">
              <div class="highlight-box" style="border-color:#44aaff44;">
                <h4 style="color:#44aaff; margin:0 0 0.3rem 0; font-size:0.7em;">&#10003;&ensp;Operational View</h4>
                <p class="small" style="margin:0;">
                  <strong>State</strong> $\vec{P}$: probabilities for $k$ <strong>fiducial measurements</strong>,
                  each with $l$ outcomes.
                </p>
                <p style="margin:0.5rem 0 0; font-size:0.7em; color:white;">
                  $\vec{P} = \big( P(i|j) \big)_{i,j}$
                </p>
              </div>
            </div>
            <ul class="prop-list fragment" data-fragment-index="3" style="margin-top:0.6rem;">
              <li><strong>Convexity:</strong>&ensp;Mixtures of states are valid states</li>
              <li><strong>Transformations:</strong>&ensp;$\vec{P} \mapsto M \cdot \vec{P}$ (linear)</li>
              <li><strong>Measurements:</strong>&ensp;Effects $\vec{R}_i$ with $\vec{R}_i \cdot \vec{P} = P(\text{outcome } i)$</li>
            </ul>
            <div class="highlight-box fragment" data-fragment-index="4" style="border-color:#55ff9944; margin-top:0.5rem;">
              <p style="font-size:0.65em; margin:0; color:#55ff99;">
                QM, classical probability, and box-world are all GPTs. Same rules, different state spaces.
              </p>
            </div>
          </div>
          <div class="right">
            <div class="video-box">
              <video autoplay loop muted playsinline preload="auto">
                <source src="assets/6_gpt.webm" type="video/webm" />
              </video>
            </div>
          </div>
        </div>

        <aside class="notes">
          To ask "Why is QM the way it is?", we can't use QM as the framework —
          that would be circular. GPTs describe any theory via operational
          probabilities. Quantum, classical, and exotic theories all fit.
        </aside>
      </section>


      <!-- ═══ SYSTEMS OF TYPE (k,l) ═══ -->
      <section data-transition="slide">
        <h3 style="margin-bottom:0.2em;">Systems of Type <span class="accent">$(k, l)$</span></h3>
        <p class="small dim" style="margin-top:0;">What distinguishes quantum from box-world</p>

        <div class="split">
          <div class="left" style="text-align:center;">
            <div class="video-box" style="display:inline-block;">
              <video autoplay loop muted playsinline preload="auto" style="max-height:45vh;">
                <source src="assets/7_systems.webm" type="video/webm" />
              </video>
            </div>
          </div>
          <div class="right" style="flex-direction:column; align-items:flex-start;">
            <div class="fragment" data-fragment-index="1">
              <div class="highlight-box">
                <p style="font-size:0.7em; margin:0;">
                  <strong class="accent">System Type $(k, l)$:</strong>&ensp;
                  $k$ fiducial measurements, $l$ outcomes each.
                </p>
              </div>
            </div>
            <div class="two-col fragment" data-fragment-index="2" style="margin-top:0.8rem; font-size:0.7em;">
              <div>
                <h4 style="color:#44aaff; margin:0 0 0.3rem;">Quantum (qubit)</h4>
                <ul class="prop-list">
                  <li>$k \approx d^2$ fiducial</li>
                  <li>Bloch sphere state space</li>
                  <li>Continuous measurements</li>
                </ul>
              </div>
              <div>
                <h4 style="color:#ff9800; margin:0 0 0.3rem;">Box-World</h4>
                <ul class="prop-list">
                  <li>$k = 2$ fiducial (type $(2,2)$)</li>
                  <li>Square state space</li>
                  <li>PR-Box lives at the corners</li>
                </ul>
              </div>
            </div>
            <div class="fragment" data-fragment-index="3" style="margin-top:0.8rem;">
              <div class="highlight-box" style="border-color:#ffdd4444;">
                <p style="font-size:0.65em; margin:0; color:#ffdd44;">
                  Box-world's state space is strictly larger than quantum's —
                  more correlations are available.
                </p>
              </div>
            </div>
          </div>
        </div>

        <aside class="notes">
          Systems classified by (k,l). Quantum: Bloch sphere. Box-world: square — larger.
          The extra correlations in box-world include the PR-Box at the corners.
        </aside>
      </section>


      <!-- ═══ COMPOSITE SYSTEMS & NO-SIGNALING ═══ -->
      <section data-transition="slide">
        <h3 style="margin-bottom:0.2em;">Composite Systems <span class="accent-grn">&amp; No-Signaling</span></h3>
        <p class="small dim" style="margin-top:0;">How systems combine — and the structural rules they obey</p>

        <div class="split">
          <div class="left">
            <div class="fragment" data-fragment-index="1">
              <div class="highlight-box">
                <h4 style="color:#aa88ff; margin:0 0 0.3rem 0; font-size:0.75em;">Tensor Products</h4>
                <p style="font-size:0.7em; margin:0;">$V_{AB} = V_A \otimes V_B$</p>
                <p class="small dim" style="margin:0.2em 0 0;">Joint state: $P(ii'|jj')$</p>
              </div>
            </div>
            <div class="fragment" data-fragment-index="2" style="margin-top:0.8rem;">
              <div class="highlight-box">
                <h4 style="color:#aa88ff; margin:0 0 0.3rem 0; font-size:0.75em;">No-Signaling Constraint</h4>
                <p style="font-size:0.7em; margin:0;">$P_A(i|j) = \sum_{i'} P_{AB}(ii'|jj')$</p>
                <p class="small dim" style="margin:0.2em 0 0;">Marginals independent of remote settings.</p>
              </div>
            </div>
            <div class="fragment" data-fragment-index="3" style="margin-top:0.8rem;">
              <div class="highlight-box" style="border-color:#ffdd4444; background:linear-gradient(135deg, #ffdd4410, #ff444410);">
                <p style="font-size:0.7em; margin:0; color:#ffdd44; font-weight:bold;">
                  Box-world satisfies convexity, tensor products, and no-signaling
                  — yet exceeds $2\sqrt{2}$. We need something more.
                </p>
              </div>
            </div>
          </div>
          <div class="right">
            <div class="video-box">
              <video autoplay loop muted playsinline preload="auto">
                <source src="assets/8_composite.webm" type="video/webm" />
              </video>
            </div>
          </div>
        </div>

        <aside class="notes">
          Box-world is a legitimate GPT: it has convex state spaces, tensor
          products, no-signaling. Yet it exceeds Tsirelson. The structural rules
          are not enough — we need an information-theoretic principle.
        </aside>
      </section>


      <!-- ═══════════════════════════════════════════════════════
           SECTION III: THE PRINCIPLE
           ═══════════════════════════════════════════════════════ -->
      <section class="section-divider" data-transition="fade">
        <div class="section-number">Part III</div>
        <h2 style="background: linear-gradient(135deg, #ff9800, #ffdd44); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
          The Principle
        </h2>
        <div class="section-rule" style="background: linear-gradient(90deg, #ff9800, #ffdd44);"></div>
        <p class="small dim">The Data Processing Inequality and its consequences</p>
      </section>


      <!-- ═══ GENERALIZED ENTROPY & DPI ═══ -->
      <section data-transition="slide">
        <h3 style="margin-bottom:0.2em;"><span class="accent-org">Generalized Entropy</span> &amp; the <span class="accent-ylw">DPI</span></h3>
        <p class="small dim" style="margin-top:0;">Three axioms that tame non-locality</p>

        <div class="split">
          <div class="left">
            <div class="step-block orange">
              <p class="small" style="margin:0;">
                <strong class="accent-org">COND</strong> — $H(A|B) = H(AB) - H(B)$
              </p>
              <p class="tiny dim" style="margin:0.2em 0 0;">Conditional entropy via chain rule</p>
            </div>
            <div class="step-block yellow">
              <p class="small" style="margin:0;">
                <strong class="accent-ylw">SHAN</strong> — Classical entropy = Shannon entropy
              </p>
              <p class="tiny dim" style="margin:0.2em 0 0;">$H_{\text{class}} = H_{\text{Sh}}$</p>
            </div>
            <div class="step-block red">
              <p class="small" style="margin:0;">
                <strong class="accent-red">DPI</strong> — $H(A|B) \leq H(A|T(B))$
              </p>
              <p class="tiny dim" style="margin:0.2em 0 0;">Local processing cannot increase correlations</p>
            </div>

            <div class="highlight-box fragment" data-fragment-index="1" style="text-align: center;">
              <p class="small dim" style="margin:0 0 0.4rem 0;">Generalized entropy for any GPT:</p>
              <p style="font-size: 0.85em; margin: 0;">
                $H(\vec{P}) = \min_{e \in \mathcal{M}^*} H_{\text{Sh}}\!\bigl(e(\vec{P})\bigr)$
              </p>
              <p class="tiny dim" style="margin-top:0.3em;">Minimum Shannon entropy over all fine-grained measurements</p>
            </div>

            <div class="chain-row fragment" data-fragment-index="2" style="margin-top: 0.6rem;">
              <div class="chain-node" style="border-color: #ff9800; min-width:140px;"><h4 class="accent-org">DPI</h4><p>+ COND + SHAN</p></div>
              <span class="chain-arrow">⟹</span>
              <div class="chain-node" style="border-color: #aa44ff; min-width:140px;"><h4 class="accent-pur">IC</h4><p>$I \leq m$</p></div>
              <span class="chain-arrow">⟹</span>
              <div class="chain-node" style="border-color: #44aaff; min-width:140px;"><h4 class="accent-blu">Tsirelson</h4><p>$S \leq 2\sqrt{2}$</p></div>
            </div>
          </div>
          <div class="right">
            <div class="video-box">
              <video autoplay loop muted playsinline preload="auto">
                <source src="assets/s2_entropy.webm" type="video/webm" />
              </video>
            </div>
          </div>
        </div>

        <aside class="notes">
          Dahlsten, Lercher and Renner define a generalized entropy: the minimum
          Shannon entropy over all fine-grained measurements. Combined with
          COND and SHAN, the DPI implies Information Causality, which in turn
          implies Tsirelson's bound.
        </aside>
      </section>


      <!-- ═══ INFORMATION CAUSALITY ═══ -->
      <section data-transition="slide">
        <h3 style="margin-bottom:0.2em;"><span class="accent-pur">Information Causality</span></h3>
        <p class="small dim" style="margin-top:0;">Pawłowski et al. (2009) — the constraint DPI enforces</p>

        <!-- Game diagram -->
        <div class="flow fragment" data-fragment-index="1">
          <div class="flow-box" style="border-color:#00bfa5;">
            <h4 style="color:#00bfa5;">Alice</h4>
            <p>$\vec{a} = (a_0, \ldots, a_{N-1})$</p>
            <p class="tiny dim">$N$ random bits</p>
          </div>
          <div class="flow-arrow">→</div>
          <div class="flow-box" style="border-color:#ff9800;">
            <h4 style="color:#ff9800;">Channel</h4>
            <p>$m$ bits</p>
          </div>
          <div class="flow-arrow">→</div>
          <div class="flow-box" style="border-color:#448aff;">
            <h4 style="color:#448aff;">Bob</h4>
            <p>index $b$, guesses $\beta$</p>
          </div>
        </div>

        <div class="split fragment" data-fragment-index="2" style="margin-top:0.6rem;">
          <div class="left" style="flex:1;">
            <div class="highlight-box" style="text-align:center;">
              <p style="font-size:0.9em; margin:0;">
                $I = \displaystyle\sum_{i=0}^{N-1} I_{\text{Sh}}(a_i : \beta \mid b = i) \;\leq\; m$
              </p>
              <p class="tiny dim" style="margin-top:0.3em;">
                Total info Bob extracts ≤ bits sent. No free lunch from shared resources.
              </p>
            </div>
            <div style="display: flex; gap: 1rem; margin-top: 0.8rem; justify-content: center;">
              <div class="verdict-card verdict-pass" style="flex:1; max-width: 200px;">
                <h4 class="accent-grn">Quantum</h4>
                <p class="small">$I \leq m$</p>
                <p class="tiny accent-grn" style="margin-top:0.3em;">&#10003; PASSES</p>
              </div>
              <div class="verdict-card verdict-fail" style="flex:1; max-width: 200px;">
                <h4 class="accent-red">PR-Box</h4>
                <p class="small">$I > m$</p>
                <p class="tiny accent-red" style="margin-top:0.3em;">&#10007; FAILS</p>
              </div>
            </div>
          </div>
          <div class="right" style="flex:1;">
            <div class="video-box">
              <video autoplay loop muted playsinline preload="auto">
                <source src="assets/s2_ic_game.webm" type="video/webm" />
              </video>
            </div>
          </div>
        </div>

        <aside class="notes">
          IC says Bob cannot extract more information about Alice's data than the
          bits she sent, even with shared entanglement. Quantum passes. The PR-box
          fails — it would allow superluminal information capacity.
        </aside>
      </section>


      <!-- ═══ THE LOGICAL CHAIN ═══ -->
      <section data-transition="slide">
        <h3 style="margin-bottom:0.2em;"><span class="accent-ylw">The Logical Chain</span></h3>
        <p class="small dim" style="margin-top:0;">How an information-processing principle excludes super-quantum correlations</p>

        <div style="display: flex; justify-content: center;">
          <div class="video-box" style="max-width: 85%;">
            <video autoplay loop muted playsinline preload="auto" style="max-height: 60vh; width: 100%;">
              <source src="assets/s2_dpi_chain.webm" type="video/webm" />
            </video>
          </div>
        </div>

        <div class="highlight-box" style="margin-top: 0.8rem; text-align: center;">
          <p style="margin: 0; font-size: 0.85em;">
            <strong class="accent-org">DPI</strong>
            <span style="color:#ffdd44; margin: 0 0.5em;">⟹</span>
            <strong class="accent-pur">Information Causality</strong>
            <span style="color:#ffdd44; margin: 0 0.5em;">⟹</span>
            <strong class="accent-blu">Tsirelson's Bound</strong>
            <span style="color:#ffdd44; margin: 0 0.5em;">⟹</span>
            <strong class="accent-red">PR-Box excluded</strong>
          </p>
          <p class="tiny dim" style="margin-top: 0.3em;">
            The real constraint is information-theoretic, not just relativistic.
          </p>
        </div>

        <aside class="notes">
          Full animated chain: DPI + COND + SHAN implies IC, which implies
          Tsirelson's bound, which excludes the PR-box.
        </aside>
      </section>


      <!-- ═══════════════════════════════════════════════════════
           SECTION IV: THE PROOF
           ═══════════════════════════════════════════════════════ -->
      <section class="section-divider" data-transition="fade">
        <div class="section-number">Part IV</div>
        <h2 style="background: linear-gradient(135deg, #aa44ff, #ff5555); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
          The Proof
        </h2>
        <div class="section-rule" style="background: linear-gradient(90deg, #aa44ff, #ff5555);"></div>
        <p class="small dim">How four lemmas build the main theorem</p>
      </section>


      <!-- ═══ PROOF ARCHITECTURE ═══ -->
      <section data-transition="slide">
        <h3 style="margin-bottom:0.2em;"><span class="accent-grn">Proof Architecture</span></h3>
        <p class="small dim" style="margin-top:0;">Theorem 2: COND + SHAN + DPI imply Tsirelson's bound for any GPT</p>

        <div class="split">
          <div class="left">
            <div class="step-block blue">
              <p class="small" style="margin:0;">
                <strong class="accent-blu">Lemma 3 (Subadditivity):</strong>
                $\sum_i H(A_i|\gamma) \geq H(A_1\ldots A_n|\gamma)$
              </p>
              <p class="tiny dim" style="margin:0.2em 0 0;">Uses COND + DPI. Decomposes joint entropy.</p>
            </div>
            <div class="step-block green">
              <p class="small" style="margin:0;">
                <strong class="accent-grn">Lemma 4 (Product States):</strong>
                $H(A|B) = H(A)$ for $\vec{P}_A \otimes \vec{P}_B$
              </p>
              <p class="tiny dim" style="margin:0.2em 0 0;">Uses COND + SHAN + DPI. Independence ↔ no correlation.</p>
            </div>
            <div class="step-block orange">
              <p class="small" style="margin:0;">
                <strong class="accent-org">Lemma 5 (Positivity):</strong>
                $H(X|Y) \geq 0$ for classical $X$
              </p>
              <p class="tiny dim" style="margin:0.2em 0 0;">Uses cloning of classical states + DPI.</p>
            </div>
            <div class="step-block" style="border-left-color: #aa44ff;">
              <p class="small" style="margin:0;">
                <strong class="accent-pur">Lemma 6 (IC Bound):</strong>
                $H(\vec{a}|B\vec{x}) \geq n - m$
              </p>
              <p class="tiny dim" style="margin:0.2em 0 0;">Combines all previous. Yields Information Causality.</p>
            </div>
          </div>
          <div class="right">
            <div class="video-box">
              <video autoplay loop muted playsinline preload="auto">
                <source src="assets/s3_proof_sketch.webm" type="video/webm" />
              </video>
            </div>
          </div>
        </div>

        <aside class="notes">
          Four lemmas feed into the theorem. Each builds on the previous,
          using different combinations of COND, SHAN, and DPI.
        </aside>
      </section>


      <!-- ═══ STEP-BY-STEP DERIVATION ═══ -->
      <section data-transition="slide">
        <h3 style="margin-bottom:0.2em;"><span class="accent-grn">From Axioms to Tsirelson</span></h3>
        <p class="small dim" style="margin-top:0;">The proof in three steps</p>

        <div class="split">
          <div class="left">
            <div class="step-block" style="border-left-color: #aa44ff;">
              <p class="small" style="margin:0; font-weight:bold; color:#aa44ff;">Step 1: Bound total uncertainty</p>
              <p class="tiny" style="margin:0.3em 0 0; color: #99a;">
                $H(\vec{a}|B\vec{x}) - H(\vec{x}|\vec{a}B) = H(\vec{a}) - H(\vec{x}|B)$<br>
                $\geq H(\vec{a}) - H(\vec{x}) = n - H(\vec{x}) \geq n - m$
              </p>
              <p class="tiny dim" style="margin:0.2em 0 0;">Using COND, product states (Lemma 4), DPI, and SHAN.</p>
            </div>

            <div class="step-block blue" style="margin-top: 0.3rem;">
              <p class="small" style="margin:0; font-weight:bold; color:#44aaff;">Step 2: Split into individual bits</p>
              <p class="tiny" style="margin:0.3em 0 0; color: #99a;">
                $\sum_i H(a_i | B\vec{x}) \geq H(\vec{a}|B\vec{x}) \geq n - m$<br>
                $\sum_i H(a_i | \beta(i)) \geq n - m$
              </p>
              <p class="tiny dim" style="margin:0.2em 0 0;">Using subadditivity (Lemma 3), then DPI on Bob's guess $\beta$.</p>
            </div>

            <div class="step-block green" style="margin-top: 0.3rem;">
              <p class="small" style="margin:0; font-weight:bold; color:#55ff99;">Step 3: Recover IC → Tsirelson</p>
              <p class="tiny" style="margin:0.3em 0 0; color: #99a;">
                $I = \sum_i I_{\text{Sh}}(a_i:\beta(i)) = n - \sum_i H(a_i|\beta(i)) \leq m$
              </p>
              <p class="tiny dim" style="margin:0.2em 0 0;">By SHAN, $H$ is Shannon for classical bits. IC implies Tsirelson (Pawłowski et al.).</p>
            </div>

            <div class="highlight-box" style="margin-top: 0.5rem; text-align: center;">
              <p style="margin:0; font-size:0.75em;">
                <strong class="accent-ylw">Key insight:</strong> Only 3 axioms needed —
                fewer than the 5 of Pawłowski et al.
              </p>
            </div>
          </div>
          <div class="right">
            <div class="video-box">
              <video autoplay loop muted playsinline preload="auto">
                <source src="assets/s3_lemma_flow.webm" type="video/webm" />
              </video>
            </div>
          </div>
        </div>

        <aside class="notes">
          Three clean steps: bound total uncertainty, split into per-bit bounds,
          recover IC. Only 3 axioms, compared to 5 in the original IC proof.
        </aside>
      </section>


      <!-- ═══════════════════════════════════════════════════════
           SECTION V: THE VERDICT
           ═══════════════════════════════════════════════════════ -->
      <section class="section-divider" data-transition="fade">
        <div class="section-number">Part V</div>
        <h2 style="background: linear-gradient(135deg, #55ff99, #44aaff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
          The Verdict
        </h2>
        <div class="section-rule" style="background: linear-gradient(90deg, #55ff99, #44aaff);"></div>
        <p class="small dim">What breaks, and what it all means</p>
      </section>


      <!-- ═══ WHERE BOX-WORLD BREAKS ═══ -->
      <section data-transition="slide">
        <h3 style="margin-bottom:0.2em;"><span class="accent-red">Where Box-World Breaks Down</span></h3>
        <p class="small dim" style="margin-top:0;">A diagnostic comparison: which axioms does it violate?</p>

        <div class="split">
          <div class="left">
            <div class="two-col" style="font-size: 0.75em;">
              <div>
                <h4 class="accent-pur" style="margin:0 0 0.5rem 0;">Quantum Mechanics</h4>
                <ul class="prop-list">
                  <li class="good">DPI holds ($H_{\text{vN}}$)</li>
                  <li class="good">Strong subadditivity</li>
                  <li class="good">$H(X|Y) \geq 0$ (classical)</li>
                  <li class="good">IC: $I \leq m$</li>
                  <li class="good">$S \leq 2\sqrt{2}$</li>
                </ul>
              </div>
              <div>
                <h4 class="accent-red" style="margin:0 0 0.5rem 0;">Box-World</h4>
                <ul class="prop-list">
                  <li class="bad">DPI violated!</li>
                  <li class="bad">SSA violated!</li>
                  <li class="bad">Conditional entropy $&lt; 0$</li>
                  <li class="bad">IC violated: $I > m$</li>
                  <li class="bad">$S = 4 > 2\sqrt{2}$</li>
                </ul>
              </div>
            </div>

            <div class="highlight-box" style="margin-top: 1rem; text-align: center;">
              <p style="margin:0; font-size: 0.75em;">
                <strong class="accent-ylw">DPI is the dividing line.</strong>
                Any theory violating it can potentially exceed Tsirelson's bound.
              </p>
            </div>

            <div class="step-block" style="border-left-color: #55ff99; margin-top: 0.5rem;">
              <p class="small" style="margin:0;">
                <strong class="accent-grn">Minimality:</strong> COND + SHAN + DPI are sufficient.
                For certain entropy definitions, <em>DPI alone</em> is enough.
              </p>
            </div>
          </div>
          <div class="right">
            <div class="video-box">
              <video autoplay loop muted playsinline preload="auto">
                <source src="assets/s3_boxworld.webm" type="video/webm" />
              </video>
            </div>
          </div>
        </div>

        <aside class="notes">
          Box-world fails at DPI, strong subadditivity, and conditional entropy
          positivity. These failures are interlinked — DPI is the root cause.
        </aside>
      </section>


      <!-- ═══ THE BIG PICTURE ═══ -->
      <section data-transition="slide">
        <h3 style="margin-bottom:0.2em;"><span class="accent-blu">The Big Picture</span></h3>
        <p class="small dim" style="margin-top:0;">What this paper achieves and what remains open</p>

        <div class="split">
          <div class="left">
            <div class="step-block green">
              <p class="small" style="margin:0;">
                <strong class="accent-grn">Result 1:</strong>
                DPI + COND + SHAN imply Tsirelson's bound — proven for <em>any</em> GPT.
              </p>
            </div>
            <div class="step-block green" style="margin-top: 0.3rem;">
              <p class="small" style="margin:0;">
                <strong class="accent-grn">Result 2:</strong>
                Only 3 natural axioms needed — more minimal than the 5 of Pawłowski et al.
              </p>
            </div>
            <div class="step-block green" style="margin-top: 0.3rem;">
              <p class="small" style="margin:0;">
                <strong class="accent-grn">Result 3:</strong>
                For some entropy definitions, DPI alone suffices.
              </p>
            </div>

            <div class="highlight-box" style="margin-top: 0.8rem;">
              <p class="small" style="margin:0 0 0.3rem 0; color: #ffdd44; font-weight: bold;">Open Questions</p>
              <ul class="prop-list" style="font-size: 0.9em;">
                <li>Can DPI + additional axioms fully derive quantum theory?</li>
                <li>Are there non-quantum theories satisfying DPI between $\mathcal{L}$ and $\mathcal{Q}$?</li>
                <li>What supplements DPI to exclude <em>all</em> non-quantum correlations?</li>
              </ul>
            </div>

            <div class="chain-row" style="margin-top: 0.5rem;">
              <div class="chain-node" style="border-color: #ff9800; min-width: 100px;"><h4 class="accent-org">DPI</h4></div>
              <span class="chain-arrow">⟹</span>
              <div class="chain-node" style="border-color: #aa44ff; min-width: 100px;"><h4 class="accent-pur">IC</h4></div>
              <span class="chain-arrow">⟹</span>
              <div class="chain-node" style="border-color: #44aaff; min-width: 100px;"><h4 class="accent-blu">Tsirelson</h4></div>
              <span class="chain-arrow">⟹</span>
              <div class="chain-node" style="border-color: #55ff99; min-width: 100px;"><h4 class="accent-grn">QM?</h4><p>Open!</p></div>
            </div>
          </div>
          <div class="right">
            <div class="video-box">
              <video autoplay loop muted playsinline preload="auto">
                <source src="assets/s3_big_picture.webm" type="video/webm" />
              </video>
            </div>
          </div>
        </div>

        <aside class="notes">
          The paper establishes DPI as a fundamental principle bounding
          quantum correlations. The open question: can DPI plus additional
          axioms fully derive quantum theory?
        </aside>
      </section>


      <!-- ═══ THANK YOU ═══ -->
      <section class="title-slide" data-transition="fade">
        <h1 style="background: linear-gradient(135deg, #55ff99, #44aaff, #aa44ff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
          Thank You
        </h1>
        <h2>Questions?</h2>

        <div style="margin: 1.5rem 0;">
          <span class="bound-badge bound-classical">$S \leq 2$</span>
          <span style="color:#ffdd44; font-size: 1.2em; margin: 0 0.3em;">⊂</span>
          <span class="bound-badge bound-quantum">$S \leq 2\sqrt{2}$</span>
          <span style="color:#ffdd44; font-size: 1.2em; margin: 0 0.3em;">⊂</span>
          <span class="bound-badge bound-ns">$S \leq 4$</span>
        </div>

        <div class="highlight-box" style="display: inline-block; margin-top: 1rem;">
          <p style="margin:0; font-size:0.7em;">
            <strong class="accent-org">DPI</strong>&ensp;⟹&ensp;
            <strong class="accent-pur">Information Causality</strong>&ensp;⟹&ensp;
            <strong class="accent-blu">Tsirelson's Bound</strong>
          </p>
          <p class="tiny dim" style="margin-top:0.3em;">
            The limit of quantum correlations is information-theoretic.
          </p>
        </div>

        <div class="meta" style="margin-top: 2rem;">
          <span style="font-size: 1.1em;"><strong style="color:#bbb;">Mohammed Boudjemaa&ensp;·&ensp;Yash Kumar Nagar&ensp;·&ensp;Nishchay Vora</strong></span>
          <span>Based on Dahlsten, Lercher &amp; Renner — <em>New J. Phys.</em> 14 (2012) 063024</span>
        </div>

        <aside class="notes">
          Thank you for your attention. We are happy to take questions.
        </aside>
      </section>


    </div><!-- /slides -->
  </div><!-- /reveal -->

  <!-- ─── Scripts ─── -->
  <script src="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/reveal.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/plugin/notes/notes.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/plugin/math/math.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/plugin/highlight/highlight.js"></script>

  <script>
    Reveal.initialize({
      hash: true,
      history: true,
      center: true,
      transition: 'slide',
      transitionSpeed: 'default',
      backgroundTransition: 'fade',
      slideNumber: 'c/t',
      showNotes: false,

      mouseWheel: true,
      keyboard: true,
      touch: true,
      navigationMode: 'linear',

      width: 1920,
      height: 1080,

      plugins: [RevealNotes, RevealMath.KaTeX, RevealHighlight],

      katex: {
        local: 'https://cdn.jsdelivr.net/npm/katex@0.16.11',
        trust: true,
        macros: { "\\RR": "\\mathbb{R}" },
      },
    });

    // ─── Slide metadata ───
    var slideMeta = [
      { title: "Title",                  section: "" },
      { title: "Part I: The Mystery",    section: "divider" },
      { title: "Correlation Landscape",  section: "The Mystery" },
      { title: "The CHSH Score",         section: "The Mystery" },
      { title: "The PR-Box",            section: "The Mystery" },
      { title: "Part II: The Framework", section: "divider" },
      { title: "General Probabilistic Theories", section: "The Framework" },
      { title: "Systems of Type (k,l)",  section: "The Framework" },
      { title: "Composite Systems",      section: "The Framework" },
      { title: "Part III: The Principle", section: "divider" },
      { title: "Entropy & DPI",          section: "The Principle" },
      { title: "Information Causality",  section: "The Principle" },
      { title: "The Logical Chain",      section: "The Principle" },
      { title: "Part IV: The Proof",     section: "divider" },
      { title: "Proof Architecture",     section: "The Proof" },
      { title: "From Axioms to Tsirelson", section: "The Proof" },
      { title: "Part V: The Verdict",    section: "divider" },
      { title: "Box-World Breakdown",    section: "The Verdict" },
      { title: "The Big Picture",        section: "The Verdict" },
      { title: "Thank You",             section: "" },
    ];

    // Section boundaries for progress bar markers
    var sections = [
      { idx: 1,  label: "I. The Mystery",   color: "#44aaff" },
      { idx: 5,  label: "II. The Framework", color: "#55ff99" },
      { idx: 9,  label: "III. The Principle", color: "#ffdd44" },
      { idx: 13, label: "IV. The Proof",     color: "#aa44ff" },
      { idx: 16, label: "V. The Verdict",    color: "#55ff99" },
    ];

    // ─── Progress bar ───
    var progressBar = document.getElementById('progress-bar');
    var progressContainer = document.getElementById('progress-container');
    var totalSlides = slideMeta.length;

    sections.forEach(function(sec) {
      var pct = (sec.idx / (totalSlides - 1)) * 100;
      var marker = document.createElement('div');
      marker.className = 'progress-marker';
      marker.style.left = pct + '%';

      var label = document.createElement('div');
      label.className = 'progress-marker-label';
      label.style.left = pct + '%';
      label.textContent = sec.label;
      label.style.color = sec.color;

      progressContainer.appendChild(marker);
      progressContainer.appendChild(label);
    });

    function updateProgress() {
      var current = Reveal.getIndices().h;
      var pct = (current / (totalSlides - 1)) * 100;
      progressBar.style.width = pct + '%';
    }

    Reveal.on('slidechanged', updateProgress);
    Reveal.on('ready', updateProgress);

    // Click progress bar to navigate
    progressContainer.addEventListener('click', function(e) {
      var rect = progressContainer.getBoundingClientRect();
      var pct = (e.clientX - rect.left) / rect.width;
      var targetSlide = Math.round(pct * (totalSlides - 1));
      Reveal.slide(targetSlide);
    });

    // ─── Slide map ───
    var slideMap = document.getElementById('slide-map');
    var slideMapClose = document.getElementById('slide-map-close');
    var homeBtn = document.getElementById('home-btn');

    function buildSlideMap() {
      slideMap.innerHTML = '';
      var current = Reveal.getIndices().h;

      var title = document.createElement('div');
      title.style.cssText = 'width:100%; text-align:center; margin-bottom: 20px;';
      title.innerHTML = '<h2 style="color:#e0e0ff; font-size:24px; font-weight:700;">Slide Map</h2>' +
        '<p style="color:#888; font-size:13px;">Click any slide to navigate. Press H or Escape to close.</p>';
      slideMap.appendChild(title);

      slideMeta.forEach(function(meta, i) {
        var card = document.createElement('div');
        card.className = 'map-card' + (i === current ? ' active' : '') +
                         (meta.section === 'divider' ? ' is-divider' : '');

        card.innerHTML =
          '<div class="map-num">Slide ' + (i + 1) + '</div>' +
          '<div class="map-title">' + meta.title + '</div>' +
          (meta.section && meta.section !== 'divider' ?
            '<div class="map-section">' + meta.section + '</div>' : '');

        card.onclick = function() {
          Reveal.slide(i);
          closeSlideMap();
        };

        slideMap.appendChild(card);
      });
    }

    function openSlideMap() {
      buildSlideMap();
      slideMap.classList.add('visible');
      slideMapClose.style.display = 'block';
    }

    function closeSlideMap() {
      slideMap.classList.remove('visible');
      slideMapClose.style.display = 'none';
    }

    homeBtn.addEventListener('click', function() {
      if (slideMap.classList.contains('visible')) {
        closeSlideMap();
      } else {
        openSlideMap();
      }
    });

    slideMapClose.addEventListener('click', closeSlideMap);

    document.addEventListener('keydown', function(e) {
      if (e.key === 'h' || e.key === 'H') {
        if (slideMap.classList.contains('visible')) { closeSlideMap(); }
        else { openSlideMap(); }
        e.preventDefault();
      }
      if (e.key === 'Escape' && slideMap.classList.contains('visible')) {
        closeSlideMap();
        e.preventDefault();
      }
    });

    Reveal.on('slidechanged', function() { closeSlideMap(); });

    // ─── Video handler ───
    function handleSlideVideos(event) {
      document.querySelectorAll('video').forEach(function(v) { v.pause(); });
      var slide = event.currentSlide;
      if (slide) {
        slide.querySelectorAll('video').forEach(function(v) {
          v.currentTime = 0;
          v.play().catch(function() {});
        });
      }
    }
    Reveal.on('slidechanged', handleSlideVideos);
    Reveal.on('ready', handleSlideVideos);
  </script>
</body>
</html>
